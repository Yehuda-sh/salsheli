# ğŸ“‹ Salsheli - Project Information

> **Complete project overview for AI systems**  
> **Updated:** 20/10/2025 | **Version:** 2.4 - Project Structure Sync

---

## ğŸ¯ Project Overview

**Salsheli** (×¡×œ ×©×œ×™ = "My Cart") - Family shopping list management app.

**Key Features:**
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Multi-user household collaboration
- ğŸ“± Cross-platform (iOS, Android, Web)
- ğŸ¨ Sticky Notes Design System
- ğŸ”’ household-based security
- ğŸ“¸ OCR receipt scanning (ML Kit)
- ğŸ›’ 21 list types, 6 templates, 66 pre-loaded items
- ğŸ’° Shufersal Public API integration (dynamic pricing)
- ğŸŒ Multi-language support (l10n)

---

## ğŸ“Š Project Statistics

### Codebase

| Category | Count |
|----------|-------|
| **Documentation Files** | 5 (optimized!) |
| **Dart Files** | 100+ |
| **Models** | 11 |
| **Providers** | 9 |
| **Repositories** | 17 |
| **Services** | 7 |
| **Screens** | 30+ |
| **Widgets** | 25+ |
| **Tests** | 50+ |

### Tech Stack

- **Framework:** Flutter 3.27+
- **Language:** Dart 3.6+
- **Backend:** Firebase (Auth, Firestore, Functions)
- **State Management:** Provider
- **Database:** Cloud Firestore
- **ML:** ML Kit (Text Recognition OCR)
- **External API:** Shufersal Public API (dynamic pricing)
- **Data Processing:** XML parsing, GZ decompression
- **HTTP Client:** http package
- **Localization:** l10n (multi-language support)

---

## ğŸ“‚ Project Structure

```
C:\projects\salsheli\
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ core/              # UI constants, theme base
â”‚   â”œâ”€â”€ models/            # 11 data models
â”‚   â”œâ”€â”€ providers/         # 9 state providers
â”‚   â”œâ”€â”€ repositories/      # 17 data repositories
â”‚   â”œâ”€â”€ services/          # 7 services (including Shufersal API)
â”‚   â”œâ”€â”€ screens/           # 30+ screens
â”‚   â”œâ”€â”€ widgets/           # 25+ reusable widgets
â”‚   â”œâ”€â”€ config/            # Business logic config
â”‚   â”œâ”€â”€ data/              # Static data (onboarding)
â”‚   â”œâ”€â”€ layout/            # Layout helpers
â”‚   â”œâ”€â”€ l10n/              # Localization files
â”‚   â”œâ”€â”€ theme/             # Theme configuration
â”‚   â”œâ”€â”€ firebase_options.dart  # Firebase config
â”‚   â””â”€â”€ main.dart          # App entry point
â”œâ”€â”€ test/                  # 50+ tests (8 categories)
â”‚   â”œâ”€â”€ models/            # Model tests
â”‚   â”œâ”€â”€ providers/         # Provider tests
â”‚   â”œâ”€â”€ repositories/      # Repository tests
â”‚   â”œâ”€â”€ concurrent/        # Concurrency tests
â”‚   â”œâ”€â”€ integration/       # Integration tests
â”‚   â”œâ”€â”€ offline/           # Offline mode tests
â”‚   â”œâ”€â”€ rtl/               # RTL support tests
â”‚   â””â”€â”€ helpers/           # Test utilities
â”œâ”€â”€ assets/                # Images, fonts
â”œâ”€â”€ docs/                  # 5 core documents
â”œâ”€â”€ android/               # Android config + google-services.json
â”œâ”€â”€ ios/                   # iOS config (âš ï¸ GoogleService-Info.plist needed)
â””â”€â”€ scripts/               # Build automation scripts
```

---

## ğŸ“š The 5 Core Documents

### 1. ğŸ¤– AI_MASTER_GUIDE.md
**For:** AI assistants  
**Contains:**
- Communication guidelines
- Auto code review (13 checks)
- Technical fixes
- Dead/Dormant code detection
- Security, Performance, Accessibility

**When:** Start of EVERY AI conversation

---

### 2. ğŸ‘¨â€ğŸ’» DEVELOPER_GUIDE.md
**For:** Developers  
**Contains:**
- Quick Reference
- Architecture patterns
- Code examples
- Testing guidelines
- Security best practices
- Checklists

**When:** Writing or reviewing code

---

### 3. ğŸ¨ DESIGN_GUIDE.md
**For:** UI/UX work  
**Contains:**
- Sticky Notes Design System
- Color palette
- Components
- Compact design
- Accessibility

**When:** Creating or updating screens

---

### 4. ğŸ“‹ PROJECT_INFO.md
**For:** Understanding the project  
**Contains:**
- Project overview (this file!)
- Tech stack
- Structure
- Documentation index

**When:** Understanding architecture

---

### 5. ğŸ› ï¸ MCP_TOOLS_GUIDE.md
**For:** AI using Claude Desktop  
**Contains:**
- 11 MCP tools guide
- Workflows
- Anti-patterns
- Troubleshooting

**When:** Working with MCP tools

---

## ğŸš€ Quick Start

### Prerequisites

```bash
flutter doctor  # Verify: Flutter 3.27+, Dart 3.6+
```

### Installation

```bash
git clone https://github.com/Yehuda-sh/salsheli.git
cd salsheli
flutter pub get
flutter pub run build_runner build --delete-conflicting-outputs
flutter run
```

### Firebase Configuration

**Android:** âœ… Configured
- `android/app/google-services.json` exists
- Ready to build

**iOS:** âš ï¸ Partial Configuration
- Missing: `ios/Runner/GoogleService-Info.plist`
- Download from Firebase Console â†’ Project Settings â†’ iOS App
- Place in `ios/Runner/` directory

**Web:** âœ… Configured
- `lib/firebase_options.dart` exists
- Auto-generated by FlutterFire CLI

### Build

```bash
flutter build apk --release   # Android (ready)
flutter build ios --release   # iOS (needs GoogleService-Info.plist)
flutter build web --release   # Web (ready)
```

### Shufersal API

**âœ… Public API - No Authentication Required**

**How it works:**
1. Scrapes `https://prices.shufersal.co.il/` for product XML files
2. Downloads GZ-compressed XML from Azure Blob Storage
3. Decompresses GZ â†’ Parses XML â†’ Extracts products
4. Smart category guessing based on Hebrew keywords
5. Deduplication by barcode

**Service Location:** `lib/services/shufersal_prices_service.dart`

**Usage:**
```dart
final products = await ShufersalPricesService.getProducts();
// Returns List<ShufersalProduct> with dynamic pricing
```

**Note:** Download time can be up to 1 minute due to large XML files.

---

## ğŸ“— Documentation Index

### By Use Case

| Need | Document |
|------|----------|
| **Getting started** | PROJECT_INFO.md (this file) |
| **Writing code** | DEVELOPER_GUIDE.md |
| **Architecture** | DEVELOPER_GUIDE.md |
| **Design UI** | DESIGN_GUIDE.md |
| **AI instructions** | AI_MASTER_GUIDE.md |
| **MCP tools** | MCP_TOOLS_GUIDE.md |

### Reading Order

**For AI Assistants ğŸ¤–:**
```
1. AI_MASTER_GUIDE.md (START HERE - EVERY conversation!)
2. PROJECT_INFO.md (THIS FILE - understand structure)
3. MCP_TOOLS_GUIDE.md (if using MCP)
4. DEVELOPER_GUIDE.md (reference as needed)
5. DESIGN_GUIDE.md (reference as needed)
```

**For Developers ğŸ‘¨â€ğŸ’»:**
```
1. PROJECT_INFO.md (this file)
2. DEVELOPER_GUIDE.md
3. DESIGN_GUIDE.md
4. AI_MASTER_GUIDE.md (if using AI)
```

---

## ğŸ“– Change History

### v2.4 - 20/10/2025 ğŸ†• **LATEST - Project Structure Sync**
- âœ… Updated Project Structure with actual folders: `data/`, `layout/`, `l10n/`, `theme/`
- âœ… Added detailed Test Structure (8 test categories)
- âœ… Updated Tech Stack with `xml`, `archive`, `http` packages
- âœ… Added Firebase Configuration status (Android âœ…, iOS âš ï¸, Web âœ…)
- âœ… Added Shufersal API detailed explanation
- âœ… Updated Key Features with API integration & l10n
- âœ… Moved "Important Paths" to AI_MASTER_GUIDE (better organization)
- ğŸ“Š Now 100% accurate with actual codebase!

### v2.3 - 19/10/2025 - Cleaned & Optimized
- ğŸ§¹ Removed contact info, license (not relevant for AI)
- âœ‚ï¸ Removed old version history (kept 3 latest)
- âœ‚ï¸ Removed roadmap, acknowledgments (not relevant for AI)

### v2.2 - 19/10/2025
- âœ… Added 13th check: Navigation/Orphan Screens

---

## ğŸ”§ Dependencies

**Core:**
- `firebase_core`, `cloud_firestore`, `firebase_auth`
- `provider`

**UI:**
- `google_fonts`, `flutter_animate`

**ML:**
- `google_mlkit_text_recognition`

**API & Data:**
- `http` - HTTP requests
- `xml` - XML parsing (Shufersal)
- `archive` - GZ decompression

**Development:**
- `build_runner`, `json_serializable`, `mockito`

**Full list:** See `pubspec.yaml`

---

**Version:** 2.4  
**Created:** 18/10/2025 | **Updated:** 20/10/2025  
**Purpose:** Project overview for AI systems
