# 🗺️ מפת מסכים ויזואלית - MemoZap

> מסמך זה מציג את כל המסכים באפליקציה, הכפתורים שבהם, ולאן הנתונים נשמרים.

---

## 📱 מבנה הניווט הראשי

```
┌─────────────────────────────────────────────────────────────────┐
│                         🚀 MEMOZAP                               │
└─────────────────────────────────────────────────────────────────┘
                              │
              ┌───────────────┴───────────────┐
              │     האם המשתמש מחובר?          │
              └───────────────┬───────────────┘
                    │                  │
                   לא                 כן
                    │                  │
                    ▼                  ▼
    ┌─────────────────────┐  ┌─────────────────────┐
    │   WELCOME SCREEN    │  │    MAIN NAVIGATION   │
    │   (אם seenOnboard   │  │                      │
    │    = false)         │  │  ┌─────┬─────┬─────┐│
    └────────┬────────────┘  │  │ 🏠  │ 📦  │ ⚙️  ││
             │               │  │בית  │מזווה│הגדר ││
             ▼               │  └─────┴─────┴─────┘│
    ┌─────────────────────┐  └─────────────────────┘
    │     LOGIN/REGISTER   │
    └─────────────────────┘
```

---

## 🔐 מסכי התחברות

### Login Screen - מסך התחברות

```
┌─────────────────────────────────────┐
│            🔐 התחברות                │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📧 אימייל                    │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 סיסמה          👁️        │   │
│  └─────────────────────────────┘   │
│                                     │
│  📎 שכחתי סיסמה                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        🚀 התחבר              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ─────────── או ───────────        │
│                                     │
│  ┌─────────┐    ┌─────────┐        │
│  │ Google  │    │  Apple  │        │
│  └─────────┘    └─────────┘        │
│                                     │
│  אין חשבון? הירשם →                 │
│                                     │
│  📜 תנאי שימוש  │  🔒 פרטיות       │
└─────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| 🚀 התחבר | `Firebase Auth.signIn()` | Firebase Auth |
| Google | `signInWithGoogle()` | Firebase Auth |
| Apple | `signInWithApple()` | Firebase Auth |
| שכחתי סיסמה | `sendPasswordReset()` | שולח מייל |
| הירשם | ניווט | → Register Screen |

**נתונים שנשמרים:**
```
Firebase Auth ← אימייל + סיסמה
SharedPreferences ← seenOnboarding = true
UserContext (Provider) ← userId
```

---

### Register Screen - מסך הרשמה

```
┌─────────────────────────────────────┐
│            ✨ הרשמה                  │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 👤 שם מלא                    │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📧 אימייל                    │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📱 טלפון (05X-XXXXXXX)       │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 סיסמה          👁️        │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 אימות סיסמה     👁️        │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        ✨ הירשם              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ─────────── או ───────────        │
│                                     │
│  ┌─────────┐    ┌─────────┐        │
│  │ Google  │    │  Apple  │        │
│  └─────────┘    └─────────┘        │
│                                     │
│  יש חשבון? התחבר →                  │
└─────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| ✨ הירשם | `Firebase Auth.signUp()` | Firebase Auth + Firestore |
| Google | `signInWithGoogle()` | Firebase Auth + Firestore |
| Apple | `signInWithApple()` | Firebase Auth + Firestore |

**נתונים שנשמרים:**
```
Firebase Auth ← אימייל + סיסמה (משתמש חדש)
Firestore/users/{uid} ← { name, email, phone, householdId }
SharedPreferences ← seenOnboarding = true
```

---

## 🏠 דף הבית (Dashboard)

```
┌─────────────────────────────────────────────────────────────┐
│  👋 שלום, יוגב!                              🔔 (3)          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🛒 קנייה פעילה!                        [המשך ←]     │   │  ← ActiveShopperBanner
│  │ "רשימת סופר" - נותרו 5 פריטים                       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ➕ הוסף מוצר מהיר...                         [📤]   │   │  ← QuickAddField
│  │     יתווסף ל: "רשימת סופר"                          │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 💡 המלצה חכמה                           ◀️ [1/3] ▶️ │   │  ← SmartSuggestionsCard
│  │                                                     │   │
│  │ 🥛 חלב                                              │   │
│  │ מלאי: 1 יחידות 🚨                                   │   │
│  │                                                     │   │
│  │ [➕ הוסף לרשימה]    [⏰ מאוחר יותר]    [🗑️]       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 📋 רשימות פעילות ──────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🟡 רשימת סופר שופרסל         12/24 פריטים           │   │
│  │ ████████░░░░ 50%              💰 ₪150               │   │
│  │                          [🛒 התחל]  [✏️]  [🗑️]     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔵 רשימת בית מרקחת           3/3 פריטים             │   │
│  │ ████████████ 100%             💰 ₪80                │   │
│  │                          [🛒 התחל]  [✏️]  [🗑️]     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 📜 היסטוריה אחרונה ───────────── [הכל →] ──────────   │
│                                                             │
│  ┌───────────────┐  ┌───────────────┐                      │
│  │ 🧾 15/01      │  │ 🧾 10/01      │                      │
│  │ שופרסל       │  │ רמי לוי      │                      │
│  │ ₪245         │  │ ₪180         │                      │
│  └───────────────┘  └───────────────┘                      │
│                                                             │
│                           ┌─────────┐                       │
│                           │   ➕    │  ← FAB רשימה חדשה     │
│                           │  רשימה  │                       │
│                           │  חדשה   │                       │
│                           └─────────┘                       │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| 🔔 התראות | ניווט | → Notifications Screen |
| ➕ רשימה חדשה (FAB) | ניווט | → Create List Screen |
| המשך קנייה | ניווט | → Active Shopping Screen |
| QuickAdd 📤 | `addUnifiedItem()` | Firestore/shopping_lists |
| 💡 הוסף לרשימה | `addCurrentSuggestion()` | Firestore/shopping_lists |
| 💡 מאוחר יותר | `dismissCurrentSuggestion()` | Provider (זמני) |
| 💡 🗑️ | `deleteCurrentSuggestion()` | Firestore/inventory |
| כרטיס רשימה | ניווט | → List Details Screen |
| 🛒 התחל קנייה | ניווט | → Active Shopping Screen |
| 🧾 קבלה | הצגה | → Receipt Details |
| הכל → | ניווט | → History Screen |

---

## 📝 יצירת רשימה חדשה

```
┌─────────────────────────────────────────────────────────────┐
│  ╳                       רשימה חדשה                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📋 שם הרשימה...                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 📁 סוג רשימה ───────────────────────────────────────   │
│                                                             │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐          │
│  │ 🛒      │ │ 💊      │ │ 🐕      │ │ 🏠      │          │
│  │ סופר    │ │ בית     │ │ חיות   │ │ בית     │          │
│  │ מרקט   │ │ מרקחת   │ │        │ │         │          │
│  │  ✓     │ │         │ │         │ │         │          │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘          │
│                                                             │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐          │
│  │ 🎉      │ │ 👶      │ │ 🎨      │ │ 📦      │          │
│  │ אירוע   │ │ תינוק   │ │ יצירה  │ │ אחר     │          │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘          │
│                                                             │
│  ── 👁️ נראות ───────────────────────────────────────────   │
│                                                             │
│  ○ 🔒 פרטי (רק אני)                                        │
│  ● 🏠 משק בית (כל המשפחה)                                  │
│  ○ 👥 משותף (אנשי קשר נבחרים)                              │
│                                                             │
│  ── 💰 תקציב (אופציונלי) ────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ₪ 0                                                 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              ✨ צור רשימה                            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| ╳ סגור | ניווט אחורה | - |
| סוג רשימה | בחירה מקומית | - |
| נראות | בחירה מקומית | - |
| ✨ צור רשימה | `createList()` | Firestore/shopping_lists |

**נתונים שנשמרים:**
```
Firestore/shopping_lists/{id} ← {
  name: "שם הרשימה",
  type: "supermarket",
  visibility: "household",
  budget: 150,
  items: [],
  status: "active",
  createdAt: timestamp,
  ownerId: "user123"
}
```

---

## 🛒 מסך קנייה פעילה

```
┌─────────────────────────────────────────────────────────────┐
│  ←              רשימת סופר שופרסל               ☁️         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  ✓ 8    │   ❌ 2   │   🚫 1   │   🛒 5              │   │
│  │ קניתי   │ אזל     │לא צריך  │ נותרו             │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 🥛 מוצרי חלב (3) ───────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ☐  חלב 3%                    x2     [❌] [🚫]      │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ✓  גבינה צהובה              x1     [❌] [🚫]      │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ❌  שמנת מתוקה               x1     [❌] [🚫]      │   │
│  │     (אזל במלאי)                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 🍞 לחם ומאפים (2) ──────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ☐  לחם אחיד                  x1     [❌] [🚫]      │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🚫  חלה לשבת                 x2     [❌] [🚫]      │   │
│  │     (לא צריך)                                       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│                                                             │
│                           ┌─────────────┐                   │
│                           │   ✅        │  ← FAB סיום       │
│                           │   סיים      │                   │
│                           │   קנייה     │                   │
│                           └─────────────┘                   │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| ☐ → ✓ | `updateItemStatus(purchased)` | Firestore (debounced) |
| ❌ אזל | `updateItemStatus(outOfStock)` | Firestore (debounced) |
| 🚫 לא צריך | `updateItemStatus(notNeeded)` | Firestore (debounced) |
| ✅ סיים קנייה | פותח דיאלוג סיכום | - |

**סיום קנייה - דיאלוג:**
```
┌─────────────────────────────────────┐
│         🛒 סיום קנייה               │
├─────────────────────────────────────┤
│                                     │
│  יש 3 פריטים שלא נקנו.              │
│  מה לעשות איתם?                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📋 העבר לרשימה הבאה         │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │ 📌 השאר ברשימה הנוכחית      │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │ 🗑️ מחק פריטים שלא נקנו      │   │
│  └─────────────────────────────┘   │
│                                     │
│  [ביטול]                 [סיים]    │
└─────────────────────────────────────┘
```

**נתונים שנשמרים בסיום:**
```
1. Firestore/shopping_lists/{id} ← status: "completed"
2. Firestore/inventory ← עדכון מלאי לפי מה שנקנה
3. Firestore/receipts ← קבלה וירטואלית חדשה
4. ShoppingPatternsService ← דפוסי קנייה (ללמידה)
```

---

## 📦 מסך מזווה

```
┌─────────────────────────────────────────────────────────────┐
│                        📦 המזווה שלי                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔍 חיפוש מוצר...                                    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 📍 מיקום ───────────────────────────────────────────   │
│                                                             │
│  [הכל] [מקרר] [מקפיא] [ארון] [מזווה]                      │
│    ✓                                                       │
│                                                             │
│  ── 🥛 מוצרי חלב ───────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🥛 חלב 3%                                           │   │
│  │ 📍 מקרר │ כמות: 1 🚨 │ תוקף: 25/01                  │   │
│  │                                    [✏️] [🗑️]       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🧀 גבינה צהובה                                      │   │
│  │ 📍 מקרר │ כמות: 3 ✓ │ תוקף: 15/02                   │   │
│  │                                    [✏️] [🗑️]       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 🥫 שימורים ─────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🥫 טונה                                             │   │
│  │ 📍 ארון │ כמות: 5 ✓ │ תוקף: 12/2026                 │   │
│  │                                    [✏️] [🗑️]       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│                           ┌─────────┐                       │
│                           │   ➕    │  ← FAB הוסף מוצר      │
│                           │  מוצר   │                       │
│                           └─────────┘                       │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| 🔍 חיפוש | סינון מקומי | - |
| מיקום | סינון מקומי | - |
| ➕ מוצר (FAB) | פותח PantryProductSelectionSheet | - |
| ✏️ עריכה | פותח PantryItemDialog | - |
| 🗑️ מחיקה | `removeItem()` | Firestore/inventory |

**נתונים שנשמרים:**
```
Firestore/inventory/{id} ← {
  productId: "milk_3",
  name: "חלב 3%",
  quantity: 1,
  unit: "יחידות",
  storageLocation: "refrigerator",
  category: "dairy",
  expiryDate: timestamp,
  lowStockThreshold: 2,
  householdId: "household123"
}
```

---

## ⚙️ מסך הגדרות

```
┌─────────────────────────────────────────────────────────────┐
│                        ⚙️ הגדרות                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 👤  יוגב כהן                                        │   │
│  │     yogev@example.com                               │   │
│  │                                        [✏️ ערוך]    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 🔔 התראות ──────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🛒 התראות קניות                         [  ✓  ]    │   │
│  │ 📦 התראות מלאי                          [  ✓  ]    │   │
│  │ 👥 התראות קבוצה                         [     ]    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 🎨 עיצוב ───────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ☀️ בהיר    │  🌙 כהה    │  📱 מערכת                │   │
│  │    ✓       │            │                          │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 👥 שיתוף ───────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 👥 ניהול משתמשים                              →    │   │
│  │ ✉️ הזמן משתמשים                               →    │   │
│  │ 📬 הזמנות ממתינות                             →    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── 📜 משפטי ───────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📋 תנאי שימוש                                 →    │   │
│  │ 🔒 מדיניות פרטיות                            →    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │               🚪 התנתק                              │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| ✏️ ערוך פרופיל | פותח דיאלוג | Firestore/users |
| 🔔 התראות | toggles | SharedPreferences |
| 🎨 עיצוב | שינוי ערכת נושא | SharedPreferences |
| 👥 ניהול משתמשים | ניווט | → ManageUsersScreen |
| ✉️ הזמן משתמשים | ניווט | → InviteUsersScreen |
| 📬 הזמנות ממתינות | ניווט | → PendingInvitesScreen |
| 🚪 התנתק | `Firebase Auth.signOut()` | מנקה UserContext |

---

## 🔔 מסך התראות

```
┌─────────────────────────────────────────────────────────────┐
│  ←                    🔔 התראות                    [✓ הכל]  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ── היום ───────────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🛒 שרה התחילה קנייה                                 │   │
│  │    "רשימת סופר שופרסל"                              │   │
│  │                                   לפני 5 דקות       │   │
│  │                         [הצטרף 👥]  [צפה 👁️]        │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📦 מלאי נמוך!                                       │   │
│  │    "חלב 3%" - נותרה יחידה אחת                      │   │
│  │                                   לפני שעה          │   │
│  │                         [הוסף לרשימה ➕]            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ── אתמול ──────────────────────────────────────────────   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ✉️ הזמנה חדשה                                       │   │
│  │    דני הזמין אותך לרשימה "מסיבת יום הולדת"         │   │
│  │                                   אתמול 14:30       │   │
│  │                         [אשר ✓]  [דחה ✗]           │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

| כפתור | פעולה | נשמר ב... |
|-------|-------|-----------|
| ✓ הכל | `markAllAsRead()` | Firestore/notifications |
| הצטרף 👥 | ניווט | → Active Shopping |
| צפה 👁️ | ניווט | → List Details |
| הוסף לרשימה ➕ | `addToList()` | Firestore/shopping_lists |
| אשר ✓ | `acceptInvite()` | Firestore |
| דחה ✗ | `rejectInvite()` | Firestore |

---

## 📊 סיכום נתונים - איפה מה נשמר?

```
┌────────────────────────────────────────────────────────────────┐
│                    🔥 FIREBASE FIRESTORE                        │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  users/{userId}                                                │
│  ├── name: "יוגב כהן"                                         │
│  ├── email: "yogev@example.com"                                │
│  ├── phone: "054-1234567"                                      │
│  └── householdId: "household123"                               │
│                                                                │
│  shopping_lists/{listId}                                       │
│  ├── name: "רשימת סופר"                                       │
│  ├── type: "supermarket"                                       │
│  ├── status: "active" | "completed"                            │
│  ├── visibility: "private" | "household" | "shared"            │
│  ├── budget: 150                                               │
│  ├── items: [...]                                              │
│  ├── sharedWith: [userId1, userId2]                            │
│  └── activeShoppers: [{userId, startTime}]                     │
│                                                                │
│  inventory/{itemId}                                            │
│  ├── productId: "milk_3"                                       │
│  ├── name: "חלב 3%"                                            │
│  ├── quantity: 1                                               │
│  ├── storageLocation: "refrigerator"                           │
│  ├── expiryDate: timestamp                                     │
│  └── householdId: "household123"                               │
│                                                                │
│  receipts/{receiptId}                                          │
│  ├── listId: "list123"                                         │
│  ├── items: [...]                                              │
│  ├── totalAmount: 245                                          │
│  ├── storeName: "שופרסל"                                       │
│  └── createdAt: timestamp                                      │
│                                                                │
│  notifications/{notificationId}                                │
│  ├── userId: "user123"                                         │
│  ├── type: "shopping_started" | "low_stock" | "invite"         │
│  ├── title: "..."                                              │
│  ├── isRead: false                                             │
│  └── createdAt: timestamp                                      │
│                                                                │
│  pending_requests/{requestId}                                  │
│  ├── type: "list_invite" | "edit_request"                      │
│  ├── fromUserId: "user456"                                     │
│  ├── toUserId: "user123"                                       │
│  ├── targetId: "list123"                                       │
│  └── status: "pending" | "approved" | "rejected"               │
│                                                                │
└────────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────────┐
│                   📱 SHARED PREFERENCES (מקומי)                 │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  seenOnboarding: true                 (האם ראה Welcome)        │
│  settings.notify.shopping: true       (התראות קניות)           │
│  settings.notify.inventory: true      (התראות מלאי)            │
│  settings.notify.group: false         (התראות קבוצה)           │
│  theme: "light" | "dark" | "system"   (ערכת נושא)              │
│                                                                │
└────────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────────┐
│                      🔐 FIREBASE AUTH                           │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  User Authentication                                           │
│  ├── uid: "abc123xyz"                                          │
│  ├── email: "yogev@example.com"                                │
│  ├── displayName: "יוגב כהן"                                   │
│  ├── emailVerified: true                                       │
│  └── providers: ["password", "google.com"]                     │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

---

## 🔄 זרימת נתונים - תרשים

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   UI Layer  │────▶│  Provider   │────▶│ Repository  │
│  (Screens)  │◀────│   Layer     │◀────│   Layer     │
└─────────────┘     └─────────────┘     └─────────────┘
                           │                    │
                           ▼                    ▼
                    ┌─────────────┐     ┌─────────────┐
                    │   State     │     │  Firebase   │
                    │  (Memory)   │     │  Firestore  │
                    └─────────────┘     └─────────────┘
```

**דוגמה: הוספת פריט לרשימה**
```
1. משתמש לוחץ [➕ הוסף]
         │
         ▼
2. QuickAddField._onSubmit()
         │
         ▼
3. ShoppingListsProvider.addUnifiedItem(listId, item)
         │
         ▼
4. ShoppingListRepository.addItem(listId, item)
         │
         ▼
5. Firestore.collection('shopping_lists').doc(listId).update(...)
         │
         ▼
6. Firestore trigger → Provider מתעדכן → UI מתרענן
```

---

*נוצר אוטומטית על ידי Claude - ינואר 2026*
