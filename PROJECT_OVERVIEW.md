# ğŸ“Š ×¡×§×™×¨×ª ×¤×¨×•×™×§×˜ Salsheli - ××¡××š ×¢×“×›× ×™ ××œ×

> **×ª××¨×™×š:** 06/10/2025  
> **×’×¨×¡×”:** 1.0.0+1  
> **×¡×˜×˜×•×¡:** âœ… Production Ready (×œ××¢×˜ iOS configuration)

---

## ğŸ“± ××” ×–×” Salsheli?

**××¤×œ×™×§×¦×™×™×ª Flutter ××•×‘×™×™×œ** (Android & iOS) ×œ× ×™×”×•×œ ×—×›× ×©×œ ×§× ×™×•×ª, ××–×•×•×” ×•×§×‘×œ×•×ª ×¢× ×©×™×ª×•×£ ××©×¤×—×ª×™.

### ğŸ¯ ×”××˜×¨×”

×œ×¤×©×˜ ××ª ×”×—×™×™× - ××¨×©×™××ª ×§× ×™×•×ª ×•×¢×“ ××¢×§×‘ ××œ××™ ×•×ª×•×‘× ×•×ª ×›×œ×›×œ×™×•×ª, ×”×›×œ ×‘××§×•× ××—×“.

---

## âœ¨ ×¤×™×¦'×¨×™× ××¨×›×–×™×™×

### ğŸ›’ ×¨×©×™××•×ª ×§× ×™×•×ª ×—×›××•×ª

- **21 ×¡×•×’×™ ×¨×©×™××•×ª** - ×¡×•×¤×¨, ×¤××¨×, ×‘×™×’×•×“, ××©×—×§×™×, ×•×¢×•×“
- **×ª×‘× ×™×•×ª ××•×›× ×•×ª** - ×¡×•×¤×¨××¨×§×˜, ×§× ×™×™×” ×©×‘×•×¢×™×ª, ××¨×•×—×” ××™×•×—×“×ª
- **×§× ×™×™×” ×¤×¢×™×œ×”** - ××¡×š ×œ×™×•×•×™ ×‘×–××Ÿ ×”×§× ×™×™×”
- **×©×™×ª×•×£ ××©×¤×—×ª×™** - household_id ×××¤×©×¨ ×¢×‘×•×“×” ××©×•×ª×¤×ª

### ğŸ  × ×™×”×•×œ ××œ××™ ×—×›×

- **10 ××™×§×•××™ ××—×¡×•×Ÿ** - ××–×•×•×”, ××§×¨×¨, ××§×¤×™×, ××©×˜×—, ×•×¢×•×“
- **××™×§×•××™× ××•×ª×××™×** - ×”×•×¡×£ ××™×§×•××™× ××©×œ×š
- **×”×ª×¨××•×ª ×—×›××•×ª** - ××•×¦×¨×™× × ××•×›×™×/×—×¡×¨×™×
- **× ×™×”×•×œ ×ª×¤×•×’×”** - ××¢×§×‘ ×ª××¨×™×›×™ ×ª×¤×•×’×”

### ğŸ§¾ ×§×‘×œ×•×ª ×•××—×™×¨×™×

- **×©××™×¨×ª ×§×‘×œ×•×ª** - ××¡×“ × ×ª×•× ×™× ×‘-Firestore
- **××¢×§×‘ ×”×•×¦××•×ª** - ×¡×™×›×•× ×—×•×“×©×™ ×•×©× ×ª×™
- **×”×©×•×•××ª ××—×™×¨×™×** - ×‘×™×Ÿ ×—× ×•×™×•×ª ×©×•× ×•×ª
- **OCR ×¢×ª×™×“×™** - ×¡×¨×™×§×ª ×§×‘×œ×•×ª ××•×˜×•××˜×™×ª

### ğŸ“Š ×ª×•×‘× ×•×ª ×•×¡×˜×˜×™×¡×˜×™×§×•×ª

- **×”×•×¦××•×ª ×—×•×“×©×™×•×ª** - ×ª×¨×©×™××™× ×•××’××•×ª
- **×§×˜×’×•×¨×™×•×ª ××•×‘×™×œ×•×ª** - ×”×™×›×Ÿ ×”×›×¡×£ ×”×•×œ×š
- **×“×™×•×§ ×¨×©×™××•×ª** - ×›××” ×§× ×™×ª×™ ×œ×¤×™ ×”×¨×©×™××”
- **×”×¦×¢×•×ª ×—×›××•×ª** - ×¢×œ ×¡××š ×”×™×¡×˜×•×¨×™×”

---

## ğŸ—ï¸ ××¨×›×™×˜×§×˜×•×¨×”

### ××‘× ×” ×©×›×‘×•×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          UI Layer                       â”‚
â”‚  Screens, Widgets, Theme                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    State Management (Provider)          â”‚
â”‚  ChangeNotifier, ProxyProvider          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Business Logic (Services)        â”‚
â”‚  AuthService, StatsService, etc.        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Data Access (Repositories)         â”‚
â”‚  Firebase, Hive, SharedPreferences      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Data Sources                  â”‚
â”‚  Firestore | Hive | SharedPrefs | API   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×¢×§×¨×•× ×•×ª ×ª×›× ×•×Ÿ

1. **×”×¤×¨×“×ª ××—×¨×™×•×ª** - ×›×œ ×©×›×‘×” ×××•×§×“×ª ×‘×ª×¤×§×™×“ ××—×“
2. **Dependency Injection** - ×“×¨×š Provider system
3. **Repository Pattern** - ×”×¤×©×˜×” ×©×œ ×’×™×©×” ×œ× ×ª×•× ×™×
4. **Reactive State** - ChangeNotifier + Consumer
5. **Immutability** - Models ×¢× `final` fields
6. **Type Safety** - ×©×™××•×© ×‘-`@JsonSerializable`

---

## ğŸ”§ ×˜×›× ×•×œ×•×’×™×•×ª ×•×ª×œ×•×™×•×ª

### Core Framework

- **Flutter** - UI Framework
- **Dart 3.8.1+** - ×©×¤×ª ×ª×›× ×•×ª
- **Material Design** - ×¢×™×¦×•×‘ UI

### State Management

- **Provider 6.1.2** - State management ××•××œ×¥
- **ChangeNotifier** - Reactive updates
- **ProxyProvider** - ×ª×œ×•×™×•×ª ×‘×™×Ÿ Providers

### Backend & Storage

- **Firebase Core 3.15.2** - ×¤×œ×˜×¤×•×¨××” ×‘×¢× ×Ÿ
- **Firebase Auth 5.7.0** - ××™××•×ª ××©×ª××©×™×
- **Cloud Firestore 5.4.4** - ××¡×“ × ×ª×•× ×™× ×‘×¢× ×Ÿ
- **Hive 2.2.3** - NoSQL ××§×•××™ ××”×™×¨
- **SharedPreferences 2.2.0** - ××—×¡×•×Ÿ ×§×˜×Ÿ ××§×•××™

### Serialization & Code Gen

- **json_annotation 4.9.0** - Annotations
- **json_serializable 6.8.0** - JSON â†” Dart
- **build_runner 2.4.13** - Code generation
- **hive_generator 2.0.1** - Hive adapters

### UI & Animations

- **flutter_animate 4.5.0** - ×× ×™××¦×™×•×ª
- **font_awesome_flutter 10.7.0** - ××™×™×§×•× ×™×
- **fl_chart 0.69.0** - ×ª×¨×©×™××™×

### Utilities

- **intl 0.20.2** - i18n + ×ª××¨×™×›×™×
- **timeago 3.7.0** - "×œ×¤× ×™ 5 ×“×§×•×ª"
- **http 1.2.2** - HTTP requests
- **xml 6.6.1** - ×¤×¢× ×•×— XML
- **archive 4.0.7** - ×¤×¢× ×•×— GZ
- **uuid 4.5.0** - ××–×”×™× ×™×™×—×•×“×™×™×

### Hardware Access

- **camera 0.11.0+2** - ×’×™×©×” ×œ××¦×œ××”
- **image_picker 1.1.2** - ×‘×—×™×¨×ª ×ª××•× ×•×ª
- **mobile_scanner 3.5.7** - ×¡×¨×™×§×ª ×‘×¨×§×•×“
- **path_provider 2.1.4** - × ×ª×™×‘×™ ×§×‘×¦×™×

---

## ğŸ“‚ ××‘× ×” ×”×ª×™×§×™×•×ª ×”××¤×•×¨×˜

```
C:\projects\salsheli\
â”‚
â”œâ”€â”€ lib/                              # ×§×•×“ ×¨××©×™
â”‚   â”œâ”€â”€ main.dart                     # âœ… Entry point + Firebase init
â”‚   â”œâ”€â”€ firebase_options.dart         # âœ… Firebase configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                          # API entities
â”‚   â”‚   â””â”€â”€ entities/                 # @JsonSerializable models
â”‚   â”‚       â”œâ”€â”€ user.dart + .g.dart
â”‚   â”‚       â””â”€â”€ shopping_list.dart + .g.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                       # Configuration
â”‚   â”‚   â”œâ”€â”€ category_config.dart      # ×§×˜×’×•×¨×™×•×ª + ×¦×‘×¢×™×
â”‚   â”‚   â”œâ”€â”€ filters_config.dart       # ×¤×™×œ×˜×¨×™× (kCategories, kStatuses)
â”‚   â”‚   â””â”€â”€ list_type_mappings.dart   # ××™×¤×•×™ ×¡×•×’×™ ×¨×©×™××•×ª
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                         # Constants
â”‚   â”‚   â”œâ”€â”€ constants.dart            # ×§×‘×•×¢×™× ×’×œ×•×‘×œ×™×™×
â”‚   â”‚   â””â”€â”€ ui_constants.dart         # ×§×‘×•×¢×™ UI (kSpacing, kBorderRadius)
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                         # Demo & sample data
â”‚   â”‚   â””â”€â”€ onboarding_data.dart      # × ×ª×•× ×™ onboarding
â”‚   â”‚
â”‚   â”œâ”€â”€ l10n/                         # Localization
â”‚   â”‚   â””â”€â”€ app_strings.dart          # ××—×¨×•×–×•×ª ×‘××¤×œ×™×§×¦×™×”
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/                       # App layout
â”‚   â”‚   â””â”€â”€ app_layout.dart           # Bottom navigation + scaffold
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                       # Data models
â”‚   â”‚   â”œâ”€â”€ user_entity.dart + .g.dart
â”‚   â”‚   â”œâ”€â”€ shopping_list.dart + .g.dart
â”‚   â”‚   â”œâ”€â”€ receipt.dart + .g.dart
â”‚   â”‚   â”œâ”€â”€ inventory_item.dart + .g.dart
â”‚   â”‚   â”œâ”€â”€ suggestion.dart + .g.dart
â”‚   â”‚   â”œâ”€â”€ product_entity.dart + .g.dart  # Hive
â”‚   â”‚   â”œâ”€â”€ custom_location.dart + .g.dart
â”‚   â”‚   â””â”€â”€ enums/
â”‚   â”‚       â””â”€â”€ shopping_item_status.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ providers/                    # State management (7 providers)
â”‚   â”‚   â”œâ”€â”€ user_context.dart         # ğŸ‘¤ User + Firebase Auth
â”‚   â”‚   â”œâ”€â”€ shopping_lists_provider.dart # ğŸ›’ Lists (Firebase!)
â”‚   â”‚   â”œâ”€â”€ receipt_provider.dart     # ğŸ§¾ Receipts (Firebase!)
â”‚   â”‚   â”œâ”€â”€ inventory_provider.dart   # ğŸ“¦ Inventory (Firebase!)
â”‚   â”‚   â”œâ”€â”€ products_provider.dart    # ğŸ”€ Products (Hybrid)
â”‚   â”‚   â”œâ”€â”€ suggestions_provider.dart # ğŸ’¡ Smart suggestions
â”‚   â”‚   â””â”€â”€ locations_provider.dart   # ğŸ“ Storage locations
â”‚   â”‚
â”‚   â”œâ”€â”€ repositories/                 # Data access (13 repositories)
â”‚   â”‚   â”œâ”€â”€ user_repository.dart              # Interface
â”‚   â”‚   â”œâ”€â”€ firebase_user_repository.dart     # âœ… Firebase
â”‚   â”‚   â”œâ”€â”€ firebase_receipt_repository.dart  # âœ… Firebase
â”‚   â”‚   â”œâ”€â”€ firebase_inventory_repository.dart # âœ… Firebase
â”‚   â”‚   â”œâ”€â”€ firebase_shopping_list_repository.dart # âœ… Firebase
â”‚   â”‚   â”œâ”€â”€ firebase_products_repository.dart # âœ… Firebase (1,758 ××•×¦×¨×™×)
â”‚   â”‚   â”œâ”€â”€ hybrid_products_repository.dart   # ğŸ”€ Local + Firebase + API
â”‚   â”‚   â”œâ”€â”€ local_products_repository.dart    # Hive
â”‚   â”‚   â”œâ”€â”€ local_shopping_lists_repository.dart # SharedPreferences
â”‚   â”‚   â””â”€â”€ ... (interfaces)
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                     # Business logic (11 services)
â”‚   â”‚   â”œâ”€â”€ auth_service.dart         # ğŸ” Firebase Authentication
â”‚   â”‚   â”œâ”€â”€ home_stats_service.dart   # ğŸ“Š Statistics
â”‚   â”‚   â”œâ”€â”€ shufersal_prices_service.dart # API ××—×™×¨×™×
â”‚   â”‚   â”œâ”€â”€ receipt_service.dart      # Receipt processing
â”‚   â”‚   â”œâ”€â”€ onboarding_service.dart   # Onboarding logic
â”‚   â”‚   â””â”€â”€ ... (more services)
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/                      # UI screens (25+ screens)
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ login_screen.dart     # ğŸ” ×”×ª×—×‘×¨×•×ª
â”‚   â”‚   â”‚   â””â”€â”€ register_screen.dart  # ğŸ“ ×”×¨×©××”
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ home_screen.dart      # ğŸ  ××¡×š ×¨××©×™
â”‚   â”‚   â”‚   â””â”€â”€ home_dashboard_screen.dart # Dashboard
â”‚   â”‚   â”œâ”€â”€ shopping/
â”‚   â”‚   â”‚   â”œâ”€â”€ shopping_lists_screen.dart # ×¨×©×™××•×ª
â”‚   â”‚   â”‚   â”œâ”€â”€ active_shopping_screen.dart # ×§× ×™×™×” ×¤×¢×™×œ×”
â”‚   â”‚   â”‚   â”œâ”€â”€ manage_list_screen.dart # × ×™×”×•×œ ×¨×©×™××”
â”‚   â”‚   â”‚   â””â”€â”€ ... (7 ××¡×›×™× × ×•×¡×¤×™×)
â”‚   â”‚   â”œâ”€â”€ receipts/
â”‚   â”‚   â”‚   â”œâ”€â”€ receipt_manager_screen.dart
â”‚   â”‚   â”‚   â””â”€â”€ receipt_view_screen.dart
â”‚   â”‚   â”œâ”€â”€ pantry/
â”‚   â”‚   â”‚   â””â”€â”€ my_pantry_screen.dart # ××œ××™
â”‚   â”‚   â”œâ”€â”€ insights/
â”‚   â”‚   â”‚   â””â”€â”€ insights_screen.dart  # ×ª×•×‘× ×•×ª
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â””â”€â”€ settings_screen.dart  # ×”×’×“×¨×•×ª
â”‚   â”‚   â”œâ”€â”€ onboarding/
â”‚   â”‚   â”‚   â””â”€â”€ onboarding_screen.dart
â”‚   â”‚   â””â”€â”€ ... (more screens)
â”‚   â”‚
â”‚   â”œâ”€â”€ widgets/                      # Reusable components (30+ widgets)
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_button.dart
â”‚   â”‚   â”‚   â””â”€â”€ demo_login_button.dart
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ active_lists_card.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ smart_suggestions_card.dart
â”‚   â”‚   â”‚   â””â”€â”€ upcoming_shop_card.dart
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard_card.dart
â”‚   â”‚   â”‚   â””â”€â”€ benefit_tile.dart
â”‚   â”‚   â””â”€â”€ ... (many more)
â”‚   â”‚
â”‚   â”œâ”€â”€ theme/                        # App theming
â”‚   â”‚   â””â”€â”€ app_theme.dart            # Light + Dark themes
â”‚   â”‚
â”‚   â””â”€â”€ utils/                        # Utilities
â”‚       â”œâ”€â”€ toast.dart                # Toast notifications
â”‚       â””â”€â”€ color_hex.dart            # Color helpers
â”‚
â”œâ”€â”€ android/                          # Android configuration
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ google-services.json      # âœ… Firebase config
â”‚
â”œâ”€â”€ ios/                              # iOS configuration
â”‚   â””â”€â”€ Runner/
â”‚       â””â”€â”€ GoogleService-Info.plist  # âŒ ×—×¡×¨!
â”‚
â”œâ”€â”€ assets/                           # Assets
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ products.json             # 100+ ××•×¦×¨×™× (fallback)
â”‚   â”œâ”€â”€ fonts/
â”‚   â”‚   â”œâ”€â”€ Assistant-Regular.ttf
â”‚   â”‚   â””â”€â”€ Assistant-Bold.ttf
â”‚   â”œâ”€â”€ images/                       # ×ª××•× ×•×ª
â”‚   â””â”€â”€ templates/                    # Templates
â”‚
â”œâ”€â”€ scripts/                          # Node.js scripts
â”‚   â”œâ”€â”€ create_users.js               # ×™×¦×™×¨×ª ××©×ª××©×™ ×“××•
â”‚   â”œâ”€â”€ upload_products.js            # ×”×¢×œ××ª ××•×¦×¨×™× ×œ-Firestore
â”‚   â””â”€â”€ fetch_shufersal_products.dart # ×©×œ×™×¤×ª ××—×™×¨×™×
â”‚
â”œâ”€â”€ docs/                             # ×ª×™×¢×•×“
â”‚   â””â”€â”€ ... (documentation files)
â”‚
â”œâ”€â”€ WORK_LOG.md                       # ğŸ““ ×™×•××Ÿ ×¢×‘×•×“×” (47 ×¨×©×•××•×ª!)
â”œâ”€â”€ CLAUDE_GUIDELINES.md              # ğŸ¤– ×”×•×¨××•×ª ×œ-AI
â”œâ”€â”€ MOBILE_GUIDELINES.md              # ğŸ“± ×”× ×—×™×•×ª Flutter
â”œâ”€â”€ CODE_REVIEW_CHECKLIST.md          # âœ… Checklist
â”œâ”€â”€ ARCHITECTURE_SUMMARY.md           # ğŸ—ï¸ ×¡×™×›×•× ××¨×›×™×˜×§×˜×•×¨×”
â”œâ”€â”€ README.md                         # ğŸ“– README ×¨××©×™
â”‚
â”œâ”€â”€ pubspec.yaml                      # ×ª×œ×•×™×•×ª Flutter
â”œâ”€â”€ analysis_options.yaml             # Dart linting
â”œâ”€â”€ firebase.json                     # Firebase config
â”œâ”€â”€ firestore.rules                   # ğŸ›¡ï¸ Security rules
â””â”€â”€ firestore.indexes.json            # Firestore indexes

```

---

## ğŸ”¥ Firebase Integration - ××¤×•×¨×˜

### Authentication (Firebase Auth 5.7.0)

```dart
// AuthService - wrapper ×œ-Firebase Auth
class AuthService {
  final FirebaseAuth _auth = FirebaseAuth.instance;

  // ×”×ª×—×‘×¨×•×ª
  Future<UserCredential> signIn(String email, String password);

  // ×”×¨×©××”
  Future<UserCredential> signUp(String email, String password, String name);

  // ×™×¦×™××”
  Future<void> signOut();

  // ××™×¤×•×¡ ×¡×™×¡××”
  Future<void> resetPassword(String email);

  // Real-time listener
  Stream<User?> get authStateChanges => _auth.authStateChanges();

  // ××©×ª××© × ×•×›×—×™
  User? get currentUser => _auth.currentUser;
  String? get currentUserId => currentUser?.uid;
}
```

**âœ… ×™×ª×¨×•× ×•×ª:**

- Persistent sessions - ×”××©×ª××© × ×©××¨ ××—×•×‘×¨
- Real-time updates - authStateChanges
- Security - ×¡×™×¡×××•×ª ××•×¦×¤× ×•×ª
- Reset password - ××™×¤×•×¡ ×“×¨×š email

### Firestore Collections

#### 1. Users Collection

```javascript
users/{userId}
{
  id: "user_abc123",
  email: "yoni@demo.com",
  name: "×™×•× ×™",
  household_id: "house_demo",  // â† ×©×™×ª×•×£ ××©×¤×—×ª×™!
  joined_at: "2025-10-05T10:00:00Z",
  last_login_at: "2025-10-06T09:30:00Z"
}
```

#### 2. Receipts Collection

```javascript
receipts/{receiptId}
{
  id: "receipt_20251006_001",
  household_id: "house_demo",  // â† Security!
  user_id: "user_abc123",
  store_name: "×©×•×¤×¨×¡×œ",
  store_location: "×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ",
  date: Timestamp(2025, 10, 6),
  total_amount: 456.78,
  items: [
    {
      name: "×—×œ×‘ 3%",
      quantity: 2,
      price: 7.90,
      category: "dairy"
    },
    // ...
  ],
  created_at: Timestamp,
  updated_at: Timestamp
}
```

#### 3. Inventory Collection

```javascript
inventory/{itemId}
{
  id: "inv_milk_001",
  household_id: "house_demo",  // â† Security!
  product_name: "×—×œ×‘ 3%",
  category: "dairy",
  location: "refrigerator",
  quantity: 3,
  expiry_date: "2025-10-15",
  added_at: Timestamp,
  updated_at: Timestamp
}
```

#### 4. Products Collection

```javascript
products/{productId}
{
  barcode: "7290000000001",
  name: "×—×œ×‘ 3% ×ª× ×•×‘×” 1 ×œ×™×˜×¨",
  brand: "×ª× ×•×‘×”",
  category: "dairy",
  price: 7.90,
  store: "×©×•×¤×¨×¡×œ",
  last_updated: Timestamp
}
```

**ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×”:** 1,758 ××•×¦×¨×™× ×‘-Firestore!

### Security Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Users - ×¨×§ ×§×¨×™××”/×¢×“×›×•×Ÿ ×¢×¦××™
    match /users/{userId} {
      allow read, write: if request.auth != null &&
                           request.auth.uid == userId;
    }

    // Receipts - ×¨×§ ×œ×¤×™ household
    match /receipts/{receiptId} {
      allow read: if request.auth != null &&
        get(/databases/$(database)/documents/users/$(request.auth.uid))
          .data.household_id == resource.data.household_id;

      allow write: if request.auth != null &&
        request.resource.data.household_id ==
        get(/databases/$(database)/documents/users/$(request.auth.uid))
          .data.household_id;
    }

    // Inventory - ×¨×§ ×œ×¤×™ household
    match /inventory/{itemId} {
      allow read: if request.auth != null &&
        get(/databases/$(database)/documents/users/$(request.auth.uid))
          .data.household_id == resource.data.household_id;

      allow write: if request.auth != null &&
        request.resource.data.household_id ==
        get(/databases/$(database)/documents/users/$(request.auth.uid))
          .data.household_id;
    }

    // Products - ×§×¨×™××” ×œ×›×•×œ×, ×›×ª×™×‘×” ×¨×§ ×œ-Admin
    match /products/{productId} {
      allow read: if true;
      allow write: if false;  // ×¨×§ Admin SDK
    }
  }
}
```

**ğŸ›¡ï¸ ×¢×§×¨×•× ×•×ª ××‘×˜×—×”:**

1. Authentication required - ×¨×§ ××©×ª××©×™× ××—×•×‘×¨×™×
2. Household isolation - ×›×œ ××©×ª××© ×¨×•××” ×¨×§ ××ª ×”×‘×™×ª ×©×œ×•
3. Read-only products - ××•×¦×¨×™× × ×’×™×©×™× ×œ×›×•×œ×, ×œ× × ×™×ª× ×™× ×œ×©×™× ×•×™
4. User ownership - ××©×ª××© ×™×›×•×œ ×œ×¢×“×›×Ÿ ×¨×§ ××ª ×”×¤×¨×•×¤×™×œ ×©×œ×•

### Firestore Indexes

```json
{
  "indexes": [
    {
      "collectionGroup": "receipts",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "household_id", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "inventory",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "household_id", "order": "ASCENDING" },
        { "fieldPath": "category", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "shopping_lists",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "household_id", "order": "ASCENDING" },
        { "fieldPath": "updated_date", "order": "DESCENDING" }
      ]
    }
  ]
}
```

**âš¡ ×œ××” Indexes ×—×©×•×‘×™×?**

- ×©××™×œ×ª×•×ª ××•×¨×›×‘×•×ª (where + orderBy) ×“×•×¨×©×•×ª composite index
- ××©×¤×¨×™× ×‘×™×¦×•×¢×™× ×“×¨××˜×™×ª
- Firebase ××–×”×” ××•×˜×•××˜×™×ª indexes ×—×¡×¨×™× ×‘×–××Ÿ ×©××™×œ×ª×”

---

## ğŸ“¦ State Management - ××¤×•×¨×˜

### Provider Hierarchy

```dart
MultiProvider(
  providers: [
    // 1. Services
    Provider<AuthService>(),

    // 2. Repositories
    Provider<UserRepository>(),

    // 3. User Context (×ª×œ×•×™ ×‘-Auth + Repository)
    ChangeNotifierProxyProvider2<AuthService, UserRepository, UserContext>(),

    // 4. Data Providers (×ª×œ×•×™×™× ×‘-UserContext)
    ChangeNotifierProxyProvider<UserContext, ProductsProvider>(),
    ChangeNotifierProxyProvider<UserContext, ShoppingListsProvider>(),
    ChangeNotifierProxyProvider<UserContext, InventoryProvider>(),
    ChangeNotifierProxyProvider<UserContext, ReceiptProvider>(),

    // 5. Computed Providers (×ª×œ×•×™×™× ×‘data providers)
    ChangeNotifierProxyProvider2<InventoryProvider,
                                  ShoppingListsProvider,
                                  SuggestionsProvider>(),

    // 6. UI Providers
    ChangeNotifierProvider<LocationsProvider>(),
  ],
)
```

### Providers ××¤×•×¨×˜×™×

#### 1. UserContext

```dart
// âœ… Firebase Authentication integration
class UserContext with ChangeNotifier {
  final UserRepository _repository;
  final AuthService _authService;

  UserEntity? _user;
  User? _firebaseUser;

  // Real-time listener
  StreamSubscription? _authSubscription;

  UserContext({required repository, required authService}) {
    _authSubscription = _authService.authStateChanges.listen((firebaseUser) {
      _firebaseUser = firebaseUser;
      if (firebaseUser != null) {
        _loadUserFromFirestore(firebaseUser.uid);
      } else {
        _user = null;
      }
      notifyListeners();
    });
  }

  // Getters
  bool get isLoggedIn => _firebaseUser != null;
  UserEntity? get user => _user;
  String? get userId => _user?.id;
  String? get householdId => _user?.householdId;

  // Methods
  Future<void> signIn(String email, String password);
  Future<void> signUp(String email, String password, String name);
  Future<void> signOut();
}
```

**âœ… ×œ××” ProxyProvider?**

- ××§×©×™×‘ ×œ×©×™× ×•×™×™× ×‘-AuthService
- ××¢×“×›×Ÿ ××•×˜×•××˜×™×ª ×›×©-authStateChanges ××©×ª× ×”
- ××˜×¢×™×Ÿ × ×ª×•× ×™ ××©×ª××© ×-Firestore

#### 2. ProductsProvider (Hybrid!)

```dart
// ğŸ”€ Hybrid Repository - Local + Firebase + API
class ProductsProvider with ChangeNotifier {
  final HybridProductsRepository _repository;

  List<ProductEntity> _products = [];
  bool _hasInitialized = false;

  // Constructor with skipInitialLoad
  ProductsProvider({
    required repository,
    bool skipInitialLoad = false,
  }) {
    if (!skipInitialLoad) {
      initializeAndLoad();
    }
  }

  // ××ª×—×•×œ + ×˜×¢×™× ×”
  Future<void> initializeAndLoad() async {
    if (_hasInitialized) return;

    debugPrint('ğŸ—ï¸ ProductsProvider: ×××ª×—×œ ×•-×˜×•×¢×Ÿ ××•×¦×¨×™×...');

    await _repository.initialize();
    _products = await _repository.getAllProducts();

    _hasInitialized = true;
    debugPrint('âœ… ProductsProvider: × ×˜×¢× ×• ${_products.length} ××•×¦×¨×™×');
    notifyListeners();
  }

  // Getters
  List<ProductEntity> get products => _products;
  int get totalProducts => _products.length;
  bool get hasInitialized => _hasInitialized;
}
```

**ğŸ”€ HybridProductsRepository Flow:**

```
1. × ×¡×”: Firestore (1,758 ××•×¦×¨×™×)
   â””â”€ ×× ×”×¦×œ×™×— â†’ cache ×‘-Hive + return
2. × ×¡×”: Local JSON (assets/data/products.json)
   â””â”€ ×× ×”×¦×œ×™×— â†’ cache ×‘-Hive + return
3. × ×¡×”: Shufersal API
   â””â”€ ×× ×”×¦×œ×™×— â†’ cache ×‘-Hive + return
4. Fallback: products ××•×›× ×™× ××¨××©
```

#### 3. ReceiptProvider

```dart
// ğŸ§¾ Receipts ×‘-Firestore
class ReceiptProvider with ChangeNotifier {
  final FirebaseReceiptRepository _repository;
  final UserContext _userContext;

  List<Receipt> _receipts = [];
  bool _isLoading = false;

  // Real-time listener
  Future<void> startListening() async {
    if (_userContext.householdId == null) return;

    _repository.watchReceipts(_userContext.householdId!).listen((receipts) {
      _receipts = receipts;
      notifyListeners();
    });
  }

  // CRUD operations
  Future<void> createReceipt(Receipt receipt);
  Future<void> updateReceipt(Receipt receipt);
  Future<void> deleteReceipt(String receiptId);
}
```

#### 4. ShoppingListsProvider

```dart
// ğŸ“‹ Shopping Lists ×‘-Firebase!
class ShoppingListsProvider with ChangeNotifier {
  final FirebaseShoppingListRepository _repository;

  List<ShoppingList> _lists = [];
  UserContext? _userContext;

  // ××¢×“×›×Ÿ ××ª ×”-UserContext
  void updateUserContext(UserContext userContext) {
    _userContext = userContext;
    if (userContext.isLoggedIn) {
      loadLists();
    }
  }

  // ×˜×¢×™× ×ª ×¨×©×™××•×ª
  Future<void> loadLists() async {
    if (_userContext?.householdId == null) return;

    _lists = await _repository.fetchLists(_userContext!.householdId!);
    notifyListeners();
  }
}
```

---

## ğŸ’¾ ××—×¡×•×Ÿ × ×ª×•× ×™× - Hybrid Strategy

### ×¡×˜×¨×˜×’×™×” ×›×•×œ×œ×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Firebase Firestore              â”‚
â”‚  - Users (profiles)                     â”‚
â”‚  - Receipts (1 household)               â”‚
â”‚  - Inventory (1 household)              â”‚
â”‚  - Products (1,758 source of truth)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Sync
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Hive Database                 â”‚
â”‚  - Products (cache ××”×™×¨)                â”‚
â”‚  - 1,778 ××•×¦×¨×™× ××§×•××™×™×                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Fallback
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       SharedPreferences                 â”‚
â”‚  - userId                               â”‚
â”‚  - seenOnboarding                       â”‚
â”‚  - Shopping Lists (×–×× ×™!)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ××” × ×©××¨ ××™×¤×”?

| × ×ª×•×Ÿ               | Firestore | Hive     | SharedPreferences |
| ------------------ | --------- | -------- | ----------------- |
| **Users**          | âœ… Source | âŒ       | âŒ                |
| **Receipts**       | âœ… Source | âŒ       | âŒ                |
| **Inventory**      | âœ… Source | âŒ       | âŒ                |
| **Products**       | âœ… Source | âœ… Cache | âŒ                |
| **Shopping Lists** | âœ… ×¢×ª×™×“×™  | âŒ       | âœ… ×–×× ×™           |
| **userId**         | âŒ        | âŒ       | âœ…                |
| **seenOnboarding** | âŒ        | âŒ       | âœ…                |

### ×œ××” Hybrid?

**×™×ª×¨×•× ×•×ª:**

1. **××”×™×¨×•×ª** - Hive ××”×™×¨ ×××•×“ (NoSQL ××§×•××™)
2. **Offline** - ×¢×•×‘×“ ×‘×œ×™ ××™× ×˜×¨× ×˜
3. **Sync** - Firestore ××¡× ×›×¨×Ÿ ×‘×™×Ÿ ××›×©×™×¨×™×
4. **Reliability** - ×ª××™×“ ×™×© fallback

**××¡×˜×¨×˜×’×™×”:**

- **Firestore** = Source of truth
- **Hive** = Cache ××”×™×¨ ×œ××•×¦×¨×™×
- **SharedPreferences** = ×”×’×“×¨×•×ª + temporary data

---

## ğŸ¨ UI/UX Design

### Theme System

**2 Themes ××œ××™×:**

- **Light Theme** - ×¦×‘×¢×™× ×‘×”×™×¨×™×
- **Dark Theme** - ×¦×‘×¢×™× ×›×”×™×
- **System Theme** - ××•×˜×•××˜×™ ×œ×¤×™ ×”××›×©×™×¨

```dart
// AppTheme.lightTheme
ThemeData(
  colorScheme: ColorScheme.light(
    primary: Color(0xFF2196F3),    // ×›×—×•×œ
    secondary: Color(0xFFFFC107),  // ×¦×”×•×‘
    surface: Color(0xFFF5F5F5),    // ××¤×•×¨ ×‘×”×™×¨
  ),
  // ... more
)

// AppTheme.darkTheme
ThemeData(
  colorScheme: ColorScheme.dark(
    primary: Color(0xFF64B5F6),    // ×›×—×•×œ ×‘×”×™×¨
    secondary: Color(0xFFFFD54F),  // ×¦×”×•×‘ ×‘×”×™×¨
    surface: Color(0xFF1E1E1E),    // ××¤×•×¨ ×›×”×”
  ),
  // ... more
)
```

### RTL Support ××œ×

```dart
// Localization
MaterialApp(
  locale: const Locale('he', 'IL'),
  supportedLocales: [Locale('he', 'IL')],
  localizationsDelegates: [
    GlobalMaterialLocalizations.delegate,
    GlobalWidgetsLocalizations.delegate,
    GlobalCupertinoLocalizations.delegate,
  ],
)

// Padding symmetric (×ª×•××š RTL)
padding: EdgeInsets.symmetric(horizontal: 16, vertical: 8)

// ×œ×:
padding: EdgeInsets.only(left: 16, right: 8) // âŒ ×œ× RTL
```

### UI Constants

```dart
// lib/core/ui_constants.dart
const kSpacingSmall = 8.0;
const kSpacingMedium = 16.0;
const kSpacingLarge = 24.0;
const kButtonHeight = 48.0;
const kBorderRadius = 12.0;
const kBorderRadiusSmall = 8.0;
const kBorderRadiusLarge = 20.0;
const kIconSize = 24.0;
const kBorderWidth = 1.0;
```

### Touch Targets

- **××™× ×™××•× 48x48 dp** - ×ª×§×Ÿ Material Design
- **×›×¤×ª×•×¨×™×:** 48x48 ××™× ×™××•×
- **××™×™×§×•× ×™×:** 24x24 ×¨×’×™×œ×™×
- **Padding:** symmetric ×œRTL

---

## ğŸ‘¥ ××©×ª××©×™ ×“××•

### 3 ××©×ª××©×™× ××•×›× ×™×

| ×©×       | Email          | ×¡×™×¡××”    | UID             | householdId |
| -------- | -------------- | -------- | --------------- | ----------- |
| **×™×•× ×™** | yoni@demo.com  | Demo123! | yoni_demo_user  | house_demo  |
| **×©×¨×”**  | sarah@demo.com | Demo123! | sarah_demo_user | house_demo  |
| **×“× ×™**  | danny@demo.com | Demo123! | danny_demo_user | house_demo  |

**×›×•×œ× ×‘-household_id: `house_demo`** â†’ ×©×™×ª×•×£ × ×ª×•× ×™×!

### ×™×¦×™×¨×ª ××©×ª××©×™×

```bash
cd scripts
npm install
npm run create-users
```

**××” ×–×” ×¢×•×©×”:**

1. ××ª×—×‘×¨ ×œ-Firebase Admin SDK
2. ×™×•×¦×¨ 3 ××©×ª××©×™× ×‘-Firebase Auth
3. ×™×•×¦×¨ ××¡××›×™× ×‘-Firestore users collection
4. ××“×¤×™×¡ UID ×©×œ ×›×œ ××©×ª××©

---

## ğŸ“Š × ×ª×•× ×™× ×•×“××•

### ××•×¦×¨×™×

- **1,778 ××•×¦×¨×™×** ×‘-Hive (cache)
- **1,758 ××•×¦×¨×™×** ×‘-Firestore (source)
- **100+ ××•×¦×¨×™×** ×‘-JSON (fallback)

### ×¨×©×™××•×ª ×§× ×™×•×ª (×“××•)

- **7 ×¨×©×™××•×ª ×–××™× ×•×ª** (SharedPreferences)
- **21 ×¡×•×’×™ ×¨×©×™××•×ª** (categories)

### ×§×‘×œ×•×ª (×“××•)

- **3 ×§×‘×œ×•×ª** ×‘-Firestore
- ×¢× ×¤×¨×™×˜×™× ×××™×ª×™×™×
- ×ª××¨×™×›×™× ×©×•× ×™×

### ××œ××™ (×“××•)

- **×¤×¨×™×˜×™ ××–×•×•×”** - 15 ×¤×¨×™×˜×™×
- **××§×¨×¨** - 8 ×¤×¨×™×˜×™×
- **××§×¤×™×** - 5 ×¤×¨×™×˜×™×

---

## ğŸš€ ×”×ª×§× ×” ×•×”×¨×¦×”

### ×“×¨×™×©×•×ª ××§×“×™××•×ª

```bash
# ×‘×“×•×§ ×’×¨×¡××•×ª
flutter --version  # Flutter SDK
dart --version     # Dart 3.8.1+
node --version     # Node.js (×œ×¡×§×¨×™×¤×˜×™×)
```

### ×©×œ×‘×™ ×”×ª×§× ×”

```bash
# 1. Clone ×”×¤×¨×•×™×§×˜
git clone https://github.com/your-username/salsheli.git
cd salsheli

# 2. ×”×ª×§× ×ª ×ª×œ×•×™×•×ª Flutter
flutter pub get

# 3. ×™×¦×™×¨×ª ×§×•×“ (json_serializable + hive_generator)
dart run build_runner build --delete-conflicting-outputs

# 4. ×™×¦×™×¨×ª ××©×ª××©×™ ×“××• (Firebase)
cd scripts
npm install
npm run create-users
cd ..

# 5. ×”×¨×¦×ª ×”××¤×œ×™×§×¦×™×”
flutter run

# ××• - build ×œ×™×™×¦×•×¨
flutter build apk --release           # Android APK
flutter build appbundle --release     # Google Play
flutter build ios --release           # iOS
```

### âš ï¸ iOS Configuration

**×—×¡×¨:** `ios/Runner/GoogleService-Info.plist`

```bash
# ××•×¤×¦×™×” 1: FlutterFire CLI (××•××œ×¥)
dart pub global activate flutterfire_cli
flutterfire configure

# ××•×¤×¦×™×” 2: ×™×“× ×™
# 1. ×›× ×¡ ×œ: https://console.firebase.google.com
# 2. ×‘×—×¨ Project: salsheli
# 3. ×œ×—×¥ ×¢×œ ××™×™×§×•×Ÿ iOS
# 4. ×”×•×¨×“ ××ª GoogleService-Info.plist
# 5. ×”×¢×ª×§ ×œ: ios/Runner/GoogleService-Info.plist
```

**×‘×œ×™ ×”×§×•×‘×¥ ×”×–×”, ×”××¤×œ×™×§×¦×™×” ×œ× ×ª×¢×‘×•×“ ×¢×œ iOS!**

---

## âœ… ××” ×¢×•×‘×“ ×”×™×•×?

### ğŸŸ¢ ×¤×•×¢×œ ××œ×

- âœ… Firebase Authentication (Email/Password)
- âœ… 3 ××©×ª××©×™ ×“××• ××•×›× ×™×
- âœ… Receipts ×‘-Firestore (Real-time!)
- âœ… Inventory ×‘-Firestore (Real-time!)
- âœ… Products ×‘-Firestore (1,758 ××•×¦×¨×™×)
- âœ… Hybrid Repository (Firestore + Hive + JSON)
- âœ… Security Rules ××œ××™×
- âœ… Firestore Indexes
- âœ… 21 ×¡×•×’×™ ×¨×©×™××•×ª
- âœ… Active Shopping Screen
- âœ… Undo Pattern ×‘×›×œ ×”××¢×¨×›×ª
- âœ… RTL ××œ×
- âœ… Dark/Light Themes
- âœ… Persistent sessions

### ğŸŸ¡ ×¢×•×‘×“ ×—×œ×§×™×ª

- âš ï¸ Shopping Lists - SharedPreferences (×–×× ×™)

  - ×¢×•×‘×“ ××§×•××™×ª ×‘×œ×‘×“
  - ×œ× ××¡×•× ×›×¨×Ÿ ×‘×™×Ÿ ××›×©×™×¨×™×
  - TODO: ×”×¢×‘×¨×” ×œ-Firestore

- âš ï¸ iOS - ×—×¡×¨ GoogleService-Info.plist
  - Android ×¢×•×‘×“ ××œ× âœ…
  - iOS ×¦×¨×™×š configuration

### ğŸ”´ ×œ× ××™×•×©×

- âŒ Receipt OCR - ×¡×¨×™×§×ª ×§×‘×œ×•×ª ××•×˜×•××˜×™×ª
- âŒ Smart Notifications - ×”×ª×¨××•×ª ×—×›××•×ª
- âŒ Real-time Collaborative Shopping
- âŒ Price Tracking ××ª×§×“×
- âŒ Tests (Unit/Widget/Integration)

---

## ğŸ“ˆ TODO & Roadmap

### ğŸ”´ ×§×¨×™×˜×™ (×’×‘×•×”)

1. **iOS Configuration**

   - ×”×•×¨×“×ª GoogleService-Info.plist
   - ×”×¢×ª×§×” ×œ-ios/Runner/
   - ×‘×“×™×§×ª build ×¢×œ iOS

2. **Shopping Lists ×œ-Firestore**

   - ×™×¦×™×¨×ª FirebaseShoppingListRepository
   - Real-time sync
   - Security Rules ×œrules ×œrules
   - Migration ×-SharedPreferences

3. **Offline Support ××œ×**
   ```dart
   FirebaseFirestore.instance.settings = Settings(
     persistenceEnabled: true,
     cacheSizeBytes: Settings.CACHE_SIZE_UNLIMITED
   );
   ```

### ğŸŸ¡ ×‘×™× ×•× ×™ (×—×©×•×‘)

4. **Receipt OCR**

   - ×©×™××•×© ×‘-ML Kit ××• Google Vision
   - ×–×™×”×•×™ ×˜×§×¡×˜ ××ª××•× ×•×ª ×§×‘×œ×•×ª
   - ×¤×¨×¡×•×¨ ××•×˜×•××˜×™ ×œ×¤×¨×™×˜×™×

5. **Smart Notifications**

   - Firebase Cloud Messaging
   - ×”×ª×¨××•×ª ×¢×œ ×ª×¤×•×’×”
   - ×”×ª×¨××•×ª ×¢×œ ××•×¦×¨×™× × ××•×›×™×

6. **Price Tracking**
   - ××¢×§×‘ ××—×¨ ×©×™× ×•×™×™ ××—×™×¨×™×
   - ×”×©×•×•××ª ××—×™×¨×™× ×‘×™×Ÿ ×—× ×•×™×•×ª
   - ×”×ª×¨××•×ª ×¢×œ ×”× ×—×•×ª

### ğŸŸ¢ × ××•×š (Nice to have)

7. **Tests**

   - Unit tests ×œlogic
   - Widget tests ×œ-UI
   - Integration tests ×œflows

8. **Performance Optimization**

   - Lazy loading
   - Image caching improvements
   - Database query optimization

9. **i18n - English**

   - ×ª×¨×’×•× ××œ× ×œ×× ×’×œ×™×ª
   - flutter_localizations

10. **Accessibility**
    - Screen reader support ××œ×
    - Contrast improvements
    - Font size adjustments

---

## ğŸ›  ×¤×§×•×“×•×ª ×©×™××•×©×™×•×ª

### Development

```bash
# ×”×ª×§× ×ª ×ª×œ×•×™×•×ª
flutter pub get

# ×™×¦×™×¨×ª ×§×•×“
dart run build_runner build --delete-conflicting-outputs

# watch mode (×™×¦×™×¨×” ××•×˜×•××˜×™×ª)
dart run build_runner watch

# ×”×¨×¦×”
flutter run

# ×”×¨×¦×” ×¢× hot reload
flutter run --hot
```

### Analysis & Quality

```bash
# ×‘×“×™×§×ª ×§×•×“
flutter analyze

# ×ª×™×§×•× ×™× ××•×˜×•××˜×™×™×
dart fix --apply

# ×¤×•×¨××˜
dart format lib/ -w
```

### Build

```bash
# Android
flutter build apk --release           # APK file
flutter build appbundle --release     # Google Play

# iOS
flutter build ios --release

# Clean
flutter clean
flutter pub get
```

### Firebase

```bash
# ×™×¦×™×¨×ª ××©×ª××©×™ ×“××•
cd scripts
npm run create-users

# ×”×¢×œ××ª ××•×¦×¨×™× ×œ-Firestore
npm run upload

# ×¤×™×ª×•×— Firebase functions
cd functions
npm run serve
```

### Debugging

```bash
# ×œ×•×’×™×
flutter logs

# ×‘×“×™×§×ª ××›×©×™×¨×™×
flutter devices

# ×‘×“×™×§×ª doctor
flutter doctor -v
```

---

## ğŸ” ×‘×¢×™×•×ª × ×¤×•×¦×•×ª ×•×¤×ª×¨×•× ×•×ª

### 1. iOS ×§×•×¨×¡ ×‘××ª×—×•×œ

**×‘×¢×™×”:** `[VERBOSE-2:platform_configuration.cc(365)] Unhandled Exception`

**×¤×ª×¨×•×Ÿ:**

```bash
# GoogleService-Info.plist ×—×¡×¨!
# ×”×•×¨×“ ×-Firebase Console â†’ iOS App
# ×”×¢×ª×§ ×œ: ios/Runner/GoogleService-Info.plist
```

### 2. Android ×§×•×¨×¡ ×‘××ª×—×•×œ

**×‘×¢×™×”:** `Firebase initialization failed`

**×¤×ª×¨×•×Ÿ:**

```bash
# ×‘×“×•×§ google-services.json
ls android/app/google-services.json

# ProjectId ×¦×¨×™×š ×œ×”×™×•×ª: salsheli
# ×× ×œ× - ×”×•×¨×“ ××—×“×© ×-Firebase Console
```

### 3. "Project not found"

**×‘×¢×™×”:** Firebase ×œ× ××•×¦× ××ª ×”×¤×¨×•×™×§×˜

**×¤×ª×¨×•×Ÿ:**

```bash
# ProjectId ×¦×¨×™×š ×œ×”×™×•×ª: salsheli
# ×‘×“×•×§ ×‘-firebase_options.dart:
grep projectId lib/firebase_options.dart

# ×¦×¨×™×š ×œ×”×™×•×ª:
# projectId: 'salsheli'
```

### 4. "Configuration error"

**×‘×¢×™×”:** ×ª×¦×•×¨×ª Firebase ×œ× × ×›×•× ×”

**×¤×ª×¨×•×Ÿ:**

```bash
# ×”×¨×¥ FlutterFire CLI
dart pub global activate flutterfire_cli
flutterfire configure

# ×‘×—×¨ project: salsheli
# ×‘×—×¨ platforms: Android, iOS
```

### 5. \*.g.dart files ×—×¡×¨×™×

**×‘×¢×™×”:** `Error: Part '...g.dart' not found`

**×¤×ª×¨×•×Ÿ:**

```bash
dart run build_runner build --delete-conflicting-outputs
```

### 6. Products ×œ× × ×˜×¢× ×™×

**×‘×¢×™×”:** 0 ××•×¦×¨×™× ××•×¦×’×™×

**×¤×ª×¨×•×Ÿ:**

```bash
# ×‘×“×•×§ Firestore
# ×¦×¨×™×š ×œ×”×™×•×ª products collection ×¢× 1,758 ××•×¦×¨×™×

# ×× ××™×Ÿ - ×”×¨×¥:
cd scripts
npm run upload
```

---

## ğŸ“š ××¡××›×™× × ×•×¡×¤×™×

| ××¡××š                                                 | ×ª×™××•×¨                            | ××ª×™ ×œ×§×¨×•×                |
| ---------------------------------------------------- | -------------------------------- | ------------------------ |
| [WORK_LOG.md](WORK_LOG.md)                           | ğŸ““ ×™×•××Ÿ ×¢×‘×•×“×” ××¤×•×¨×˜ (47 ×¨×©×•××•×ª!) | ×ª×—×™×œ×ª ×›×œ ×©×™×—×” ×¢×œ ×”×¤×¨×•×™×§×˜ |
| [CLAUDE_GUIDELINES.md](CLAUDE_GUIDELINES.md)         | ğŸ¤– ×”×•×¨××•×ª ×œ-Claude/AI tools      | ×¢×‘×•×“×” ×¢× AI ×¢×œ ×”×¤×¨×•×™×§×˜   |
| [MOBILE_GUIDELINES.md](MOBILE_GUIDELINES.md)         | ğŸ“± ×”× ×—×™×•×ª Flutter ×˜×›× ×™×•×ª         | ×œ×¤× ×™ ×›×ª×™×‘×ª ×§×•×“ ×—×“×©       |
| [CODE_REVIEW_CHECKLIST.md](CODE_REVIEW_CHECKLIST.md) | âœ… ×‘×“×™×§×•×ª ××”×™×¨×•×ª                 | ×œ×¤× ×™ ×›×œ commit           |
| [ARCHITECTURE_SUMMARY.md](ARCHITECTURE_SUMMARY.md)   | ğŸ—ï¸ ×¡×™×›×•× ××¨×›×™×˜×§×˜×•×¨×”              | ×”×‘× ×ª ×”××‘× ×” ×”×›×œ×œ×™         |
| [README.md](README.md)                               | ğŸ“– README ×¨××©×™                   | ×”×ª×—×œ×” ××”×™×¨×”              |

---

## ğŸ“ ×œ××™×“×” ×•×¤×™×ª×•×—

### ××•×©×’×™× ×©×™××•×©×™×™×

- **Provider** - State management pattern
- **ChangeNotifier** - Observable state
- **ProxyProvider** - Provider ×©×ª×œ×•×™ ×‘××—×¨
- **Repository Pattern** - ×”×¤×©×˜×” ×©×œ data access
- **Hybrid Storage** - ×©×™×œ×•×‘ local + cloud
- **household_id** - ×©×™×ª×•×£ ×‘×™×Ÿ ××©×ª××©×™×
- **Security Rules** - ×›×œ×œ×™ ××‘×˜×—×” ×‘-Firestore
- **authStateChanges** - Real-time auth listener

### ××©××‘×™×

- [Flutter Docs](https://docs.flutter.dev/)
- [Provider Package](https://pub.dev/packages/provider)
- [Firebase for Flutter](https://firebase.google.com/docs/flutter/setup)
- [Hive Database](https://pub.dev/packages/hive)
- [Material Design](https://material.io/design)

---

## ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª ×”×¤×¨×•×™×§×˜

| ××“×“                      | ×¢×¨×š     |
| ------------------------ | ------- |
| **×©×•×¨×•×ª ×§×•×“**            | ~15,000 |
| **×§×‘×¦×™ Dart**            | 150+    |
| **Providers**            | 7       |
| **Repositories**         | 13      |
| **Screens**              | 25+     |
| **Widgets**              | 30+     |
| **Models**               | 12      |
| **Services**             | 11      |
| **Config Files**         | 5       |
| **××©×ª××©×™ ×“××•**           | 3       |
| **××•×¦×¨×™× (Firestore)**   | 1,758   |
| **××•×¦×¨×™× (Hive)**        | 1,778   |
| **×¡×•×’×™ ×¨×©×™××•×ª**          | 21      |
| **×¨×©×™××•×ª ×“××•**           | 7       |
| **×§×‘×œ×•×ª ×“××•**            | 3       |
| **Firebase Collections** | 4       |
| **Security Rules**       | 5       |
| **Firestore Indexes**    | 3       |

---

## ğŸ¤ ×ª×¨×•××” ×œ×¤×¨×•×™×§×˜

### ×ª×”×œ×™×š ×ª×¨×•××”

1. **Fork** ××ª ×”×¤×¨×•×™×§×˜
2. **×¦×•×¨ Branch** - `git checkout -b feature/amazing-feature`
3. **×§×¨× ×ª×™×¢×•×“:**
   - MOBILE_GUIDELINES.md
   - CLAUDE_GUIDELINES.md
   - CODE_REVIEW_CHECKLIST.md
4. **×›×ª×•×‘ ×§×•×“** - ×¢× ×ª×™×¢×•×“ ××œ×
5. **Commit** - `git commit -m 'Add amazing feature'`
6. **×‘×“×•×§ Checklist** - CODE_REVIEW_CHECKLIST.md
7. **Push** - `git push origin feature/amazing-feature`
8. **×¤×ª×— PR** - Pull Request ×¢× ×ª×™××•×¨ ××¤×•×¨×˜

### Code Style

```dart
// âœ… ×˜×•×‘
class MyWidget extends StatelessWidget {
  final String title;

  const MyWidget({
    super.key,
    required this.title,
  });

  @override
  Widget build(BuildContext context) {
    return Container();
  }
}

// âŒ ×¨×¢
class bad_widget extends StatelessWidget {
  String title; // ×œ× final

  bad_widget(this.title); // ×œ× const

  Widget build(context) { // ×—×¡×¨ @override
    return Container();
  }
}
```

---

## ğŸ“„ ×¨×™×©×™×•×Ÿ

**MIT License**

```
Copyright (c) 2025 Salsheli Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

×¨××” [LICENSE](LICENSE) ×œ×¤×¨×˜×™× ××œ××™×.

---

## ğŸ™ ×ª×•×“×•×ª

- **Flutter Team** - ×¢×œ framework ××“×”×™×
- **Firebase Team** - ×¢×œ backend ××¢×•×œ×”
- **Provider Package** - State management ×¤×©×•×˜
- **Hive** - Database ××”×™×¨
- **Community** - ×¢×œ ×ª×¨×•××•×ª ×•×”×¦×¢×•×ª

---

## ğŸ“ ×¦×•×¨ ×§×©×¨

- **Email:** support@salsheli.com (×œ× ×¤×¢×™×œ ×¢×“×™×™×Ÿ)
- **GitHub:** [github.com/your-username/salsheli](https://github.com/your-username/salsheli)
- **Issues:** [github.com/your-username/salsheli/issues](https://github.com/your-username/salsheli/issues)

---

## ğŸ‰ ×¡×™×›×•×

**Salsheli** ×”×•× ×¤×¨×•×™×§×˜ Flutter ××ª×§×“× ×¢×:

âœ… **Firebase** ××œ× - Auth, Firestore, Security  
âœ… **Hybrid Storage** - Local + Cloud  
âœ… **State Management** - Provider ××§×¦×•×¢×™  
âœ… **21 ×¡×•×’×™ ×¨×©×™××•×ª** - ×œ×›×œ ×¦×•×¨×š  
âœ… **Real-time Sync** - ×¢×“×›×•× ×™× ××™×™×“×™×™×  
âœ… **RTL ××œ×** - ×ª××™×›×” ×‘×¢×‘×¨×™×ª  
âœ… **1,758 ××•×¦×¨×™×** - ×§×˜×œ×•×’ ××œ×

**×”×¦×¢×“ ×”×‘×:**

1. âš ï¸ ×”×•×¡×£ iOS configuration
2. ğŸ”„ ×”×¢×‘×¨ Shopping Lists ×œ-Firestore
3. ğŸš€ ×”×•×¡×£ Real-time collaboration

---

**Made with â¤ï¸ in Israel** ğŸ‡®ğŸ‡±

**×¢×“×›×•×Ÿ ××—×¨×•×Ÿ:** 06/10/2025  
**×’×¨×¡×”:** 1.0.0+1  
**×¡×˜×˜×•×¡:** âœ… Production Ready (Android)
